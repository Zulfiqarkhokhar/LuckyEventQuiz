<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<StackPane fx:id="overlay"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="org.example.controller.QuestionModalController"
           stylesheets="@/css/modal.css"
           alignment="CENTER"
           styleClass="overlay">

    <!-- Outer white rounded “card” container -->
    <AnchorPane fx:id="card" styleClass="modal-card" maxWidth="900" minWidth="700" maxHeight="600">

        <!-- Content column -->
        <VBox spacing="24"
              AnchorPane.topAnchor="35" AnchorPane.leftAnchor="45"
              AnchorPane.rightAnchor="45" AnchorPane.bottomAnchor="35">

            <!-- Top editable question + close -->
            <HBox spacing="8" alignment="CENTER_LEFT">
                <TextField fx:id="questionField"
                           styleClass="question-field"
                           HBox.hgrow="ALWAYS"
                           promptText="Enter your question here..."
                />
                <ImageView fx:id="closeBtn"
                           fitWidth="24" fitHeight="24"
                           styleClass="clickable-icon"
                           pickOnBounds="true"
                           onMouseClicked="#handleClose">
                    <image><Image url="@../icons/Cross.png"/></image>
                </ImageView>
            </HBox>


            <!-- Add-answer row -->
            <HBox spacing="6" alignment="CENTER_LEFT"
                  onMouseClicked="#handleAddAnswer" styleClass="clickable-icon">
                <Label text="Add Answer" styleClass="add-label"/>
                <ImageView fitWidth="18" fitHeight="18">
                    <image><Image url="@../icons/Plus.png"/></image>
                </ImageView>
            </HBox>

            <!-- Scroll area for chips -->
            <ScrollPane fx:id="chipScroll"
                        hbarPolicy="NEVER"
                        vbarPolicy="AS_NEEDED"
                        fitToWidth="true"
                        prefHeight="360"
                        styleClass="chip-scroll"
            >
                <content>
                    <FlowPane fx:id="answersPane"
                              hgap="28"
                              vgap="20"
                              prefWrapLength="750"/>
                </content>
            </ScrollPane>

            <!-- Bottom-right save button -->
            <HBox alignment="CENTER_RIGHT">
                <Button fx:id="saveBtn"
                        text="Save Changes"

                        styleClass="primary-btn, small, clickable-icon"
                        onAction="#handleSave"/>
            </HBox>
        </VBox>
    </AnchorPane>
</StackPane>
